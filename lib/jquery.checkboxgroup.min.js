/**
 * A jQuery Plugin for grouping checkboxes
 * @author Georg Tavonius <g.tavonius@gmail.com>
 * @date 2010/09/15
 */
(function(d){d.fn.extend({checkboxGroup:function(c){if(!c.master)throw new Exception("$.checkboxGroup needs a master");var a=d(c.master),b=this,h=b.length,e=c.onNoneSelected||function(){},i=c.onSomeSelected||function(){},f=c.onAllSelected||function(){};c=function(){var g=b.filter(":checked").length;if(g==0){a.removeAttr("checked").css("opacity",1);e(a,b)}else if(g==h){a.attr("checked","checked").css("opacity",1);f(a,b)}else{a.attr("checked","checked").css("opacity",0.5);i(a,b)}};b.change(c);c();a.click(function(){a.css("opacity",
1);if(a.is(":checked")){b.attr("checked","checked");f(a,b)}else{b.removeAttr("checked");e(a,b)}});return this}})})(jQuery);